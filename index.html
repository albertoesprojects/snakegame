
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>
  about.blank
  </title>
<!-- Bootstrap CSS -->
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet"/>
<meta content="noindex, nofollow" name="robots"/>
<meta content="noindex, nofollow" name="robots"/></head>
<body>
<div class="container text-center">
<h1 class="mt-5">
  Alberto's Snake Game
   </h1>
<canvas class="border border-dark" height="400" id="gameCanvas" width="400">
</canvas>
<div class="mt-3">
<button class="btn btn-success" id="startButton">
     Start Game
    </button>
<button class="btn btn-danger" id="resetButton" style="display:none;">
     Reset Game
    </button>
</div>
<h3 class="mt-3" id="score">
    Score: 0
   </h3>
</div>
<!-- Bootstrap & jQuery JS -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">
</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js">
</script>
</body>
</html>


<style>
    body {
    background-color: #f0f8ff;
    font-family: 'Arial', sans-serif;
}

canvas {
    background-color: #ffffff;
}

h1 {
    color: #333;
}

#score {
    color: #007bff;
}
</style>

<script  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.1/js/bootstrap.min.js"></script>
<script>
    (function() {
        window.onload = function() {
            parent.iframeLoaded();
        }
    })();
    try {
    $(document).ready(function() {
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const box = 20;
    let snake = [{ x: 9 * box, y: 9 * box }];
    let direction;
    let apple = { x: Math.floor(Math.random() * 20) * box, y: Math.floor(Math.random() * 20) * box };
    let score = 0;
    let game;

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        // Draw apple
        ctx.fillStyle = 'red';
        ctx.fillRect(apple.x, apple.y, box, box);

        // Draw snake
        for (let i = 0; i < snake.length; i++) {
            ctx.fillStyle = (i === 0) ? 'green' : 'lightgreen';
            ctx.fillRect(snake[i].x, snake[i].y, box, box);
            ctx.strokeStyle = 'darkgreen';
            ctx.strokeRect(snake[i].x, snake[i].y, box, box);
        }

        // Move snake
        let snakeX = snake[0].x;
        let snakeY = snake[0].y;

        if (direction === 'LEFT') snakeX -= box;
        if (direction === 'UP') snakeY -= box;
        if (direction === 'RIGHT') snakeX += box;
        if (direction === 'DOWN') snakeY += box;

        // Snake eats apple
        if (snakeX === apple.x && snakeY === apple.y) {
            score++;
            apple = {
                x: Math.floor(Math.random() * 20) * box,
                y: Math.floor(Math.random() * 20) * box
            };
        } else {
            snake.pop();
        }
       // Snake collision with itself
        if (snakeX < 0 || snakeY < 0 || snakeX >= canvas.width || snakeY >= canvas.height || collision(snakeX, snakeY, snake)) {
            clearInterval(game);
            alert('Game Over! Your score: ' + score);
            return;
        }

        // Snake goes through walls
        if (snakeX >= canvas.width) snakeX = 0;
        if (snakeX < 0) snakeX = canvas.width - box;
        if (snakeY >= canvas.height) snakeY = 0;
        if (snakeY < 0) snakeY = canvas.height - box;

        const newHead = { x: snakeX, y: snakeY };
        snake.unshift(newHead);
        $('#score').text('Score: ' + score);
    }

    function collision(headX, headY, array) {
        for (let i = 0; i < array.length; i++) {
            if (array[i].x === headX && array[i].y === headY) {
                return true;
            }
        }
        return false;
    }

    $(document).keydown(function(event) {
        if (event.keyCode === 37 && direction !== 'RIGHT') direction = 'LEFT';
        if (event.keyCode === 38 && direction !== 'DOWN') direction = 'UP';
        if (event.keyCode === 39 && direction !== 'LEFT') direction = 'RIGHT';
        if (event.keyCode === 40 && direction !== 'UP') direction = 'DOWN';
    });

    $('#startButton').click(function() {
        score = 0;
        snake = [{ x: 9 * box, y: 9 * box }];
        direction = null;
        $('#score').text('Score: ' + score);
        game = setInterval(draw, 100);
        $(this).hide();
        $('#resetButton').show();
    });

    $('#resetButton').click(function() {
        clearInterval(game);
        $('#startButton').show();
        $(this).hide();
    });
});
    } catch (e) {
        console.log("Error in JS code", e);
    }
</script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</html>
    
